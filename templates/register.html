{% extends 'base.html' %}

{% block content %}
<div class="container" style="max-width:500px;">
    <h2 class="mb-4">Register</h2>

    <form method="POST" id="registerForm">
        {% csrf_token %}
        
        <div class="mb-3">
            {{ form.username.label_tag }}
            {{ form.username }}
        </div>

        <div class="mb-3">
            {{ form.email.label_tag }}
            {{ form.email }}
        </div>

        <div class="mb-3">
            {{ form.password.label_tag }}
            {{ form.password }}
        </div>

        <div class="mb-3">
            {{ form.confirm_password.label_tag }}
            {{ form.confirm_password }}
        </div>

        <button type="submit" class="btn btn-primary w-100">Register</button>
    </form>

    {% if form.errors %}
        <div class="alert alert-danger mt-3">
            {{ form.errors }}
        </div>
    {% endif %}
</div>

<script>
document.getElementById("registerForm").addEventListener("submit", function(e) {
    const password = document.getElementById("id_password").value;
    const confirm = document.getElementById("id_confirm_password").value;

    if(password !== confirm) {
        alert("Passwords do not match!");
        e.preventDefault();
    }
});
</script>

{% endblock %}
